(this["webpackJsonpstreamlit-browser"]=this["webpackJsonpstreamlit-browser"]||[]).push([[45],{2386:function(e,t,s){"use strict";s.r(t);var i=s(11),a=s(0),l=s.n(a),r=s(2391),n=s(1126),h=s(13),d=s(148),o=s(30),c=s(84),m=s.n(c);class u extends l.a.PureComponent{constructor(e){super(e),this.state=void 0,this.sliderRef=l.a.createRef(),this.setWidgetValueDebounced=void 0,this.componentDidMount=()=>{if(this.sliderRef.current){const e='[role="slider"]';this.sliderRef.current.querySelectorAll(e).forEach(e=>e.addEventListener("click",this.handleClick))}this.setWidgetValueImmediately({fromUi:!1})},this.componentWillUnmount=()=>{if(this.sliderRef.current){const e='[role="slider"]';this.sliderRef.current.querySelectorAll(e).forEach(e=>e.removeEventListener("click",this.handleClick))}},this.setWidgetValueImmediately=e=>{const t=this.props.element.get("id");this.props.widgetMgr.setFloatArrayValue(t,this.state.value,e)},this.handleChange=({value:e})=>{this.setState({value:e},()=>this.setWidgetValueDebounced({fromUi:!0}))},this.handleFinalChange=({value:e})=>{this.setState({value:e},()=>this.setWidgetValueImmediately({fromUi:!0}))},this.handleClick=e=>{e.target.focus()},this.renderThumbValue=e=>{const t=d.i.ThumbValue.style({$disabled:this.props.disabled});return l.a.createElement("div",{style:t},this.formatValue(e.$value[e.$thumbIndex]))},this.renderTickBar=()=>{const e=this.props.element.get("max"),t=this.props.element.get("min"),s=d.i.TickBarItem.style;return l.a.createElement("div",{className:"sliderTickBar",style:d.i.TickBar.style},l.a.createElement("div",{className:"tickBarMin",style:s},this.formatValue(t)),l.a.createElement("div",{className:"tickBarMax",style:s},this.formatValue(e)))},this.render=()=>{const e={width:this.props.width},t=this.props.element.get("label"),s=this.props.element.get("min"),a=this.props.element.get("max"),n=this.props.element.get("step");return l.a.createElement("div",{ref:this.sliderRef,className:"Widget stSlider",style:e},l.a.createElement("label",null,t),l.a.createElement(r.a,{min:s,max:a,step:n,value:this.value,onChange:this.handleChange,onFinalChange:this.handleFinalChange,disabled:this.props.disabled,overrides:Object(i.a)(Object(i.a)({},d.i),{},{ThumbValue:this.renderThumbValue,TickBar:this.renderTickBar})}))},this.setWidgetValueDebounced=Object(o.a)(200,this.setWidgetValueImmediately.bind(this)),this.state={value:this.props.element.get("default").toJS()}}get value(){const e=this.props.element.get("min"),t=this.props.element.get("max"),s=this.state.value;let i=s[0],a=s.length>1?s[1]:s[0];return i>a&&(i=a),i<e&&(i=e),i>t&&(i=t),a<e&&(a=e),a>t&&(a=t),s.length>1?[i,a]:[i]}formatValue(e){const t=this.props.element.get("format"),s=this.props.element.get("dataType");return s===h.l.DataType.DATETIME||s===h.l.DataType.DATE||s===h.l.DataType.TIME?m()(e/1e3).format(t):Object(n.sprintf)(t,e)}}var p=u;s.d(t,"default",(function(){return p}))}}]);
//# sourceMappingURL=45.c8919f70.chunk.js.map